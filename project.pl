:- discontiguous activity/3.
:- discontiguous activity/1.

activity(0). activity(0, name, 'Lady Bird Lake Kayaking'). activity(0, city, austin). activity(0, address, '2418 Stratford Dr, Austin, TX 78746'). activity(0, tags, [kayaking, outdoors, nature, adventure, scenic, relaxing, recreation]). activity(0, price_range, cheap). activity(0, url, 'https://www.rowingdock.com/'). activity(0, time_of_day, [morning, afternoon]). activity(0, reservation, 'no'). activity(0, description, 'Kayaking on Lady Bird Lake is a great way to enjoy the outdoors and see the city from a different perspective. Rentals are available at various citys along the lake.'). activity(0, age_group, all).  
activity(1). activity(1, name, 'Barton Spring Pool'). activity(1, city, austin). activity(1, address, '2201 Barton Springs Rd, Austin, TX 78704'). activity(1, tags, [nature, outdoors, swimming, relaxing, recreation]). activity(1, price_range, cheap). activity(1, url, 'https://www.austintexas.gov/department/barton-springs-pool'). activity(1, time_of_day, [morning, afternoon]). activity(1, reservation, 'no'). activity(1, description, 'Barton Springs Pool is a natural spring-fed pool located in Zilker Park. It is a popular spot for swimming and relaxing in the sun.'). activity(1, age_group, all).
activity(2). activity(2, name, 'Hamilton Pool Preserve'). activity(2, city, austin). activity(2, address, '24300 Hamilton Pool Rd, Dripping Springs, TX 78620'). activity(2, tags, [nature, outdoors, swimming, scenic, relaxing, recreation]). activity(2, price_range, moderate). activity(2, url, 'https://parks.traviscountytx.gov/parks/hamilton-pool-preserve'). activity(2, time_of_day, [morning, afternoon]). activity(2, reservation, 'yes'). activity(2, description, 'Hamilton Pool Preserve is a natural swimming hole with a waterfall and scenic views. Reservations are required for entry.'). activity(2, age_group, all).
activity(3). activity(3, name, 'Stand Up Paddleboarding'). activity(3, city, austin). activity(3, address, '2418 Stratford Dr, Austin, TX 78746'). activity(3, tags, [paddleboarding, outdoors, nature, adventure, scenic, recreation]). activity(3, price_range, moderate). activity(3, url, 'https://www.rowingdock.com/rental-sup/'). activity(3, time_of_day, [morning, afternoon]). activity(3, reservation, 'no'). activity(3, description, 'Stand up paddleboarding on Lady Bird Lake is a fun way to enjoy the water and get some exercise. Rentals are available at various citys along the lake.'). activity(3, age_group, all).
activity(4). activity(4, name, 'South Congress Shopping'). activity(4, city, austin). activity(4, address, 'South Congress Ave, Austin, TX 78704'). activity(4, tags, [shopping, boutiques]). activity(4, price_range, moderate). activity(4, url, 'https://www.austincityguide.com/listings/south-congress-avenue-shopping'). activity(4, time_of_day, [afternoon, evening]). activity(4, reservation, 'no'). activity(4, description, 'South Congress Avenue is a popular shopping and dining destination with a variety of boutiques and restaurants.'). activity(4, age_group, all).
activity(5). activity(5, name, 'Lake Travis Zipline Adventures'). activity(5, city, austin). activity(5, address, '14529 Pocohontas Trail, Volente, TX 78641'). activity(5, tags, [adventure, outdoors, scenic, recreation]). activity(5, price_range, expensive). activity(5, url, 'https://ziplaketravis.com/'). activity(5, time_of_day, [morning, afternoon]). activity(5, reservation, 'yes'). activity(5, description, 'Lake Travis Zipline Adventures offers a thrilling zipline experience over the beautiful Lake Travis. Reservations are required.'). activity(5, age_group, teen).
activity(6). activity(6, name, 'Blue Starlite Drive-In'). activity(6, city, austin). activity(6, address, '2103 E M Franklin Ave, Austin, TX 78723'). activity(6, tags, [entertainment, movies, romantic]). activity(6, price_range, cheap). activity(6, url, 'https://www.bluestarliteaustin.com/'). activity(6, time_of_day, [evening]). activity(6, reservation, 'no'). activity(6, description, 'Blue Starlite Drive-In is a retro-style drive-in movie theater that shows classic and indie films.'). activity(6, age_group, all).
activity(7). activity(7, name, 'UT Tower Tour'). activity(7, city, austin). activity(7, address, '110 Inner Campus Dr, Austin, TX 78712'). activity(7, tags, [culture, history, scenic]). activity(7, price_range, cheap). activity(7, url, 'https://tower.utexas.edu/'). activity(7, time_of_day, [morning, afternoon]). activity(7, reservation, 'no'). activity(7, description, 'The UT Tower Tour offers a guided tour of the iconic University of Texas Tower with stunning views of the city.'). activity(7, age_group, all).
activity(8). activity(8, name, 'Ghost Tour Downtown'). activity(8, city, austin). activity(8, address, '303 Red River St, Austin, TX 78701'). activity(8, tags, [culture, history, city_tour, walking_tour]). activity(8, price_range, moderate). activity(8, url, 'https://austinghosttours.com/'). activity(8, time_of_day, [evening]). activity(8, reservation, 'yes'). activity(8, description, 'The Ghost Tour Downtown takes you on a spooky journey through Austin\'s haunted history. Reservations are recommended.'). activity(8, age_group, teen).
activity(9). activity(9, name, 'Circuit of the Americas Go-Karting'). activity(9, city, austin). activity(9, address, '9201 Circuit of the Americas Blvd, Del Valle, TX 78617'). activity(9, tags, [games, fun, recreation]). activity(9, price_range, expensive). activity(9, url, 'https://circuitoftheamericas.com/karting/'). activity(9, time_of_day, [afternoon]). activity(9, reservation, 'no'). activity(9, description, 'Circuit of the Americas offers a thrilling go-karting experience on a professional racetrack.'). activity(9, age_group, all).
activity(10). activity(10, name, 'Urban Axethrowing'). activity(10, city, austin). activity(10, address, '812 Airport Blvd, Austin, TX 78702'). activity(10, tags, [games, fun, recreation]). activity(10, price_range, moderate). activity(10, url, 'https://urbanaxes.com/citys/austin'). activity(10, time_of_day, [afternoon, evening]). activity(10, reservation, 'yes'). activity(10, description, 'Urban Axethrowing offers a fun and unique experience where you can learn to throw axes in a safe environment. Reservations are recommended.'). activity(10, age_group, adult).
activity(11). activity(11, name, 'Alamo Drafthouse Cinema'). activity(11, city, austin). activity(11, address, '320 E 6th St, Austin, TX 78701'). activity(11, tags, [bar, nightlife, entertainment, movies]). activity(11, price_range, moderate). activity(11, url, 'https://drafthouse.com/austin'). activity(11, time_of_day, [evening]). activity(11, reservation, 'no'). activity(11, description, 'Alamo Drafthouse Cinema is a unique movie theater that serves food and drinks during the film.'). activity(11, age_group, all).
activity(12). activity(12, name, 'Cidercade Austin'). activity(12, city, austin). activity(12, address, '600 E Riverside Dr, Austin, TX 78704'). activity(12, tags, [games, arcade, fun, nightlife]). activity(12, price_range, cheap). activity(12, url, 'https://cidercade.com/austin/'). activity(12, time_of_day, [afternoon, evening]). activity(12, reservation, 'no'). activity(12, description, 'Cidercade Austin is a unique arcade and cider bar with a variety of games and ciders to choose from.'). activity(12, age_group, adult).
activity(13). activity(13, name, 'Blanton Museum of Art'). activity(13, city, austin). activity(13, address, '200 E Martin Luther King Jr Blvd, Austin, TX 78712'). activity(13, tags, [art, museum, gallery, culture]). activity(13, price_range, cheap). activity(13, url, 'https://blantonmuseum.org/'). activity(13, time_of_day, [morning, afternoon]). activity(13, reservation, 'no'). activity(13, description, 'The Blanton Museum of Art features a diverse collection of European, American, and Latin American art.'). activity(13, age_group, all).
activity(14). activity(14, name, 'Austin Eats Food Tour'). activity(14, city, austin). activity(14, address, '602 E 4th St, Austin, TX 78701'). activity(14, tags, [food, food_tour, dining, restaurant, tours]). activity(14, price_range, moderate). activity(14, url, 'https://www.austineatsfoodtours.com/'). activity(14, time_of_day, [afternoon, evening]). activity(14, reservation, 'yes'). activity(14, description, 'Austin Eats Food Tour offers a guided food tour of some of the best local eateries in Austin. Reservations are recommended.'). activity(14, age_group, all).
activity(15). activity(15, name, 'Secret Food Tours'). activity(15, city, austin). activity(15, address, '501 Congress Ave, Austin, TX 78701'). activity(15, tags, [food, food_tour, dining, restaurant, tours]). activity(15, price_range, moderate). activity(15, url, 'https://www.secretfoodtours.com/austin/'). activity(15, time_of_day, [afternoon, evening]). activity(15, reservation, 'yes'). activity(15, description, 'Secret Food Tours offers a unique food tour experience with a focus on local cuisine and hidden gems. Reservations are recommended.'). activity(15, age_group, all).
activity(16). activity(16, name, 'Austin Detours Taste of Austin'). activity(16, city, austin). activity(16, address, '602 E 4th St, Austin, TX 78701'). activity(16, tags, [food, food_tour, dining, restaurant, tours]). activity(16, price_range, moderate). activity(16, url, 'https://austindetours.com/tours/taste-of-austin-dine-around/'). activity(16, time_of_day, [afternoon, evening]). activity(16, reservation, 'yes'). activity(16, description, 'Austin Detours offers a guided food tour that showcases the best local restaurants and food trucks. Reservations are recommended.'). activity(16, age_group, all).
activity(17). activity(17, name, 'Activate Games'). activity(17, city, austin). activity(17, address, '1401 S I-35 Frontage Rd #130, Round Rock, TX 78664'). activity(17, tags, [games, fun, arcade]). activity(17, price_range, moderate). activity(17, url, 'https://activate.games/austin/'). activity(17, time_of_day, [afternoon, evening]). activity(17, reservation, 'no'). activity(17, description, 'Activate Games offers a unique gaming experience with a variety of interactive games and challenges.'). activity(17, age_group, all).
activity(18). activity(18, name, 'Museum of Illusions'). activity(18, city, austin). activity(18, address, '501 E 6th St Suite A, Austin, TX 78701'). activity(18, tags, [museum, culture]). activity(18, price_range, moderate). activity(18, url, 'https://moiaustin.com/'). activity(18, time_of_day, [morning, afternoon]). activity(18, reservation, 'no'). activity(18, description, 'The Museum of Illusions features a variety of optical illusions and interactive exhibits.'). activity(18, age_group, all).
activity(19). activity(19, name, 'Central Library'). activity(19, city, austin). activity(19, address, '710 W Cesar Chavez St, Austin, TX 78701'). activity(19, tags, [culture]). activity(19, price_range, cheap). activity(19, url, 'https://library.austintexas.gov/central-library'). activity(19, time_of_day, [morning, afternoon]). activity(19, reservation, 'no'). activity(19, description, 'The Central Library is a beautiful and modern library with a variety of resources and events.'). activity(19, age_group, all).
activity(20). activity(20, name, 'Escape Game Austin'). activity(20, city, austin). activity(20, address, '405 Red River St, Austin, TX 78701'). activity(20, tags, [games, fun, escape_room]). activity(20, price_range, moderate). activity(20, url, 'https://theescapegame.com/austin/'). activity(20, time_of_day, [afternoon, evening]). activity(20, reservation, 'yes'). activity(20, description, 'Escape Game Austin offers a variety of escape room experiences for groups of all sizes. Reservations are recommended.'). activity(20, age_group, teen).
activity(21). activity(21, name, 'Miraval Austin Resort & Spa'). activity(21, city, austin). activity(21, address, '13500 FM2769, Austin, TX 78726'). activity(21, tags, [wellness, spa, relaxing, cozy]). activity(21, price_range, luxury). activity(21, url, 'https://www.miravalresorts.com/austin'). activity(21, time_of_day, [morning, afternoon]). activity(21, reservation, 'yes'). activity(21, description, 'Miraval Austin Resort & Spa offers a luxurious spa experience with a variety of wellness treatments and activities. Reservations are required.'). activity(21, age_group, adult).
activity(22). activity(22, name, 'Lake Austin Spa Resort'). activity(22, city, austin). activity(22, address, '1705 S Quinlan Park Rd, Austin, TX 78732'). activity(22, tags, [wellness, spa, relaxing, cozy]). activity(22, price_range, luxury). activity(22, url, 'https://www.lakeaustin.com/'). activity(22, time_of_day, [morning, afternoon]). activity(22, reservation, 'yes'). activity(22, description, 'Lake Austin Spa Resort offers a luxurious spa experience with a variety of wellness treatments and activities. Reservations are required.'). activity(22, age_group, adult).
activity(23). activity(23, name, 'Six Flags Over Texas'). activity(23, city, dfw). activity(23, address, '2201 E Road to Six Flags St, Arlington, TX 76011'). activity(23, tags, [entertainment, amusement_park, adventure]). activity(23, price_range, expensive). activity(23, url, 'https://www.sixflags.com/overtexas'). activity(23, time_of_day, [morning, afternoon]). activity(23, reservation, 'no'). activity(23, description, 'Six Flags Over Texas is a large amusement park with a variety of rides and attractions for all.'). activity(23, age_group, all).
activity(24). activity(24, name, 'Klyde Warren Park'). activity(24, city, dfw). activity(24, address, '2012 Woodall Rodgers Fwy, Dallas, TX 75201'). activity(24, tags, [nature, outdoors, park]). activity(24, price_range, cheap). activity(24, url, 'https://klydewarrenpark.org/'). activity(24, time_of_day, [morning, afternoon]). activity(24, reservation, 'no'). activity(24, description, 'Klyde Warren Park is a beautiful urban park with a variety of activities and events.'). activity(24, age_group, all).
activity(25). activity(25, name, 'Dallas Museum of Art'). activity(25, city, dfw). activity(25, address, '1717 N Harwood St, Dallas, TX 75201'). activity(25, tags, [culture, museum, art]). activity(25, price_range, cheap). activity(25, url, 'https://dma.org/'). activity(25, time_of_day, [morning, afternoon]). activity(25, reservation, 'no'). activity(25, description, 'The Dallas Museum of Art features a diverse collection of art from around the world.'). activity(25, age_group, all).
activity(26). activity(26, name, 'Perot Museum of Nature and Science'). activity(26, city, dfw). activity(26, address, '2201 N Field St, Dallas, TX 75201'). activity(26, tags, [museum]). activity(26, price_range, moderate). activity(26, url, 'https://www.perotmuseum.org/'). activity(26, time_of_day, [morning, afternoon]). activity(26, reservation, 'no'). activity(26, description, 'The Perot Museum of Nature and Science features a variety of exhibits on science and nature.'). activity(26, age_group, all).
activity(27). activity(27, name, 'Topgolf Dallas'). activity(27, city, dfw). activity(27, address, '8787 Park Ln, Dallas, TX 75231'). activity(27, tags, [games, fun, golf]). activity(27, price_range, moderate). activity(27, url, 'https://topgolf.com/us/dallas/'). activity(27, time_of_day, [afternoon, evening]). activity(27, reservation, 'no'). activity(27, description, 'Topgolf Dallas is a fun and interactive golf experience with games and food.'). activity(27, age_group, all).
activity(28). activity(28, name, 'Pinstack Irving'). activity(28, city, dfw). activity(28, address, '2750 W I-635, Irving, TX 75063'). activity(28, tags, [games, fun, bowling]). activity(28, price_range, moderate). activity(28, url, 'https://pinstackbowl.com/citys/irving/'). activity(28, time_of_day, [afternoon, evening]). activity(28, reservation, 'no'). activity(28, description, 'Pinstack Irving is a bowling alley with a variety of games and activities.'). activity(28, age_group, all).
activity(29). activity(29, name, 'Trinity Groves Dining'). activity(29, city, dfw). activity(29, address, '3011 Gulden Ln, Dallas, TX 75212'). activity(29, tags, [food, dining, restaurant]). activity(29, price_range, moderate). activity(29, url, 'https://trinitygroves.com/'). activity(29, time_of_day, [evening]). activity(29, reservation, 'no'). activity(29, description, 'Trinity Groves is a dining and entertainment destination with a variety of restaurants and bars.'). activity(29, age_group, all).
activity(30). activity(30, name, 'The Statler Rooftop Bar'). activity(30, city, dfw). activity(30, address, '1914 Commerce St, Dallas, TX 75201'). activity(30, tags, [nightlife, bar, couples, date_night]). activity(30, price_range, moderate). activity(30, url, 'https://thestatlerdallas.com/'). activity(30, time_of_day, [evening]). activity(30, reservation, 'no'). activity(30, description, 'The Statler Rooftop Bar offers stunning views of the Dallas skyline and a variety of cocktails.'). activity(30, age_group, adult).
activity(31). activity(31, name, 'Bishop Arts District Food Tour'). activity(31, city, dfw). activity(31, address, '400 N Bishop Ave, Dallas, TX 75208'). activity(31, tags, [tours, food_tour]). activity(31, price_range, moderate). activity(31, url, 'https://www.secretfoodtours.com/dallas/'). activity(31, time_of_day, [afternoon, evening]). activity(31, reservation, 'yes'). activity(31, description, 'Bishop Arts District Food Tour offers a guided food tour of the trendy Bishop Arts District. Reservations are recommended.'). activity(31, age_group, all).
activity(32). activity(32, name, 'Dallas Zoo'). activity(32, city, dfw). activity(32, address, '650 S R L Thornton Fwy, Dallas, TX 75203'). activity(32, tags, [entertainment, zoo]). activity(32, price_range, moderate). activity(32, url, 'https://www.dallaszoo.com/'). activity(32, time_of_day, [morning, afternoon]). activity(32, reservation, 'no'). activity(32, description, 'The Dallas Zoo is home to a variety of animals and exhibits.'). activity(32, age_group, all).
activity(33). activity(33, name, 'Fort Worth Botanic Garden'). activity(33, city, dfw). activity(33, address, '3220 Botanic Garden Blvd, Fort Worth, TX 76107'). activity(33, tags, [nature, outdoors, park, scenic, recreation]). activity(33, price_range, cheap). activity(33, url, 'https://fwbg.org/'). activity(33, time_of_day, [morning, afternoon]). activity(33, reservation, 'no'). activity(33, description, 'The Fort Worth Botanic Garden features a variety of gardens and walking paths.'). activity(33, age_group, all).
activity(34). activity(34, name, 'Meow Wolf Grapevine'). activity(34, city, dfw). activity(34, address, '3000 Grapevine Mills Pkwy Suite 253, Grapevine, TX 76051'). activity(34, tags, [art, culture]). activity(34, price_range, expensive). activity(34, url, 'https://meowwolf.com/visit/grapevine'). activity(34, time_of_day, [afternoon, evening]). activity(34, reservation, 'no'). activity(34, description, 'Meow Wolf Grapevine is an immersive art experience with a variety of interactive exhibits.'). activity(34, age_group, all).
activity(35). activity(35, name, 'Space Center Houston'). activity(35, city, houston). activity(35, address, '1601 E NASA Pkwy, Houston, TX 77058'). activity(35, tags, [museum, history]). activity(35, price_range, moderate). activity(35, url, 'https://spacecenter.org/'). activity(35, time_of_day, [morning, afternoon]). activity(35, reservation, 'no'). activity(35, description, 'Space Center Houston is the official visitor center of NASA Johnson Space Center and offers a variety of exhibits and tours.'). activity(35, age_group, all).
activity(36). activity(36, name, 'Houston Museum of Natural Science'). activity(36, city, houston). activity(36, address, '5555 Hermann Park Dr, Houston, TX 77030'). activity(36, tags, [museum]). activity(36, price_range, moderate). activity(36, url, 'https://www.hmns.org/'). activity(36, time_of_day, [morning, afternoon]). activity(36, reservation, 'no'). activity(36, description, 'The Houston Museum of Natural Science features a variety of exhibits on science and nature.'). activity(36, age_group, all).
activity(37). activity(37, name, 'The Menil Collection'). activity(37, city, houston). activity(37, address, '1533 Sul Ross St, Houston, TX 77006'). activity(37, tags, [art, culture, gallery]). activity(37, price_range, cheap). activity(37, url, 'https://www.menil.org/'). activity(37, time_of_day, [morning, afternoon]). activity(37, reservation, 'no'). activity(37, description, 'The Menil Collection features a diverse collection of art from around the world.'). activity(37, age_group, all).
activity(38). activity(38, name, 'Buffalo Bayou Park'). activity(38, city, houston). activity(38, address, '1800 Allen Pkwy, Houston, TX 77019'). activity(38, tags, [nature, outdoors, park, recreation]). activity(38, price_range, cheap). activity(38, url, 'https://buffalobayou.org/visit/destination/buffalo-bayou-park/'). activity(38, time_of_day, [morning, afternoon]). activity(38, reservation, 'no'). activity(38, description, 'Buffalo Bayou Park is a beautiful urban park with a variety of activities and events.'). activity(38, age_group, all).
activity(39). activity(39, name, 'Memorial Park Houston'). activity(39, city, houston). activity(39, address, '6501 Memorial Dr, Houston, TX 77007'). activity(39, tags, [nature, outdoors, park, hiking, recreation]). activity(39, price_range, cheap). activity(39, url, 'https://www.memorialparkconservancy.org/'). activity(39, time_of_day, [morning, afternoon]). activity(39, reservation, 'no'). activity(39, description, 'Memorial Park Houston is a large urban park with a variety of trails and outdoor activities.'). activity(39, age_group, all).
activity(40). activity(40, name, 'Miller Outdoor Theatre'). activity(40, city, houston). activity(40, address, '6000 Hermann Park Dr, Houston, TX 77030'). activity(40, tags, [culture, theater, live_music, outdoors]). activity(40, price_range, cheap). activity(40, url, 'https://www.milleroutdoortheatre.com/'). activity(40, time_of_day, [evening]). activity(40, reservation, 'no'). activity(40, description, 'Miller Outdoor Theatre offers free outdoor performances in a beautiful setting.'). activity(40, age_group, all).
activity(41). activity(41, name, 'The Escape Game Houston'). activity(41, city, houston). activity(41, address, '5015 Westheimer Rd Suite 3400, Houston, TX 77056'). activity(41, tags, [games, escape_room, fun]). activity(41, price_range, moderate). activity(41, url, 'https://theescapegame.com/houston/'). activity(41, time_of_day, [afternoon, evening]). activity(41, reservation, 'yes'). activity(41, description, 'The Escape Game Houston offers a variety of escape room experiences for groups of all sizes. Reservations are recommended.'). activity(41, age_group, teen).
activity(42). activity(42, name, 'Color Factory Houston'). activity(42, city, houston). activity(42, address, '3303 Kirby Dr, Houston, TX 77098'). activity(42, tags, [culture, art, fun]). activity(42, price_range, moderate). activity(42, url, 'https://www.colorfactory.co/houston/'). activity(42, time_of_day, [afternoon]). activity(42, reservation, 'no'). activity(42, description, 'Color Factory Houston is an interactive art experience with a variety of colorful exhibits.'). activity(42, age_group, all).
activity(43). activity(43, name, 'K1 Speed Indoor Karting'). activity(43, city, houston). activity(43, address, '14900 Northwest Fwy, Houston, TX 77040'). activity(43, tags, [games, fun, adventure]). activity(43, price_range, moderate). activity(43, url, 'https://www.k1speed.com/houston-city.html'). activity(43, time_of_day, [afternoon, evening]). activity(43, reservation, 'no'). activity(43, description, 'K1 Speed Indoor Karting offers a thrilling go-karting experience in a safe environment.'). activity(43, age_group, all).
activity(44). activity(44, name, 'Axelrad Beer Garden'). activity(44, city, houston). activity(44, address, '1517 Alabama St, Houston, TX 77004'). activity(44, tags, [nightlife, bar, live_music]). activity(44, price_range, moderate). activity(44, url, 'https://www.axelradhouston.com/'). activity(44, time_of_day, [evening]). activity(44, reservation, 'no'). activity(44, description, 'Axelrad Beer Garden is a popular beer garden with a variety of beers and live music.'). activity(44, age_group, adult).
activity(45). activity(45, name, 'Post Houston Food Hall'). activity(45, city, houston). activity(45, address, '401 Franklin St, Houston, TX 77201'). activity(45, tags, [food, dining, food_truck]). activity(45, price_range, moderate). activity(45, url, 'https://www.posthtx.com/eat/'). activity(45, time_of_day, [afternoon, evening]). activity(45, reservation, 'no'). activity(45, description, 'Post Houston Food Hall is a trendy food hall with a variety of dining options.'). activity(45, age_group, all).
activity(46). activity(46, name, 'Houston Zoo'). activity(46, city, houston). activity(46, address, '6200 Hermann Park Dr, Houston, TX 77030'). activity(46, tags, [entertainment, zoo]). activity(46, price_range, moderate). activity(46, url, 'https://www.houstonzoo.org/'). activity(46, time_of_day, [morning, afternoon]). activity(46, reservation, 'no'). activity(46, description, 'The Houston Zoo is home to a variety of animals and exhibits.'). activity(46, age_group, all).
activity(47). activity(47, name, 'Houston Arboretum & Nature Center'). activity(47, city, houston). activity(47, address, '4501 Woodway Dr, Houston, TX 77024'). activity(47, tags, [recreation, nature, outdoors, hiking, relaxing]). activity(47, price_range, cheap). activity(47, url, 'https://houstonarboretum.org/'). activity(47, time_of_day, [morning, afternoon]). activity(47, reservation, 'no'). activity(47, description, 'The Houston Arboretum & Nature Center is a beautiful nature reserve with walking trails and educational programs.'). activity(47, age_group, all).
activity(48). activity(48, name, 'The Galleria'). activity(48, city, houston). activity(48, address, '5085 Westheimer Rd, Houston, TX 77056'). activity(48, tags, [shopping, mall]). activity(48, price_range, expensive). activity(48, url, 'https://www.simon.com/mall/the-galleria'). activity(48, time_of_day, [afternoon, evening]). activity(48, reservation, 'no'). activity(48, description, 'The Galleria is a large shopping mall with a variety of stores and dining options.'). activity(48, age_group, all).
activity(49). activity(49, name, 'Discovery Green'). activity(49, city, houston). activity(49, address, '1500 McKinney St, Houston, TX 77010'). activity(49, tags, [recreation, park, outdoors, relaxing, nature]). activity(49, price_range, cheap). activity(49, url, 'https://www.discoverygreen.com/'). activity(49, time_of_day, [morning, afternoon]). activity(49, reservation, 'no'). activity(49, description, 'Discovery Green is a large urban park with a variety of activities and events.'). activity(49, age_group, all).

city(austin).
city(dfw).
city(houston).
city(dallasfortworth).
city(dallas).
city(fortworth).
city(any).

equiv_city(dallasfortworth, dfw).
equiv_city(fortworth, dfw).
equiv_city(dallas, dfw).

tag_group(recreation, [nature, outdoors, park, hiking, kayaking, paddleboarding, swimming, adventure, scenic, relaxing, recreation]).
tag_group(games, [games, fun, arcade, bowling, escape_room, mini_golf, golf]).
tag_group(culture, [culture, art, museum, gallery, theater, history, live_music]).
tag_group(nightlife, [nightlife, bar, club, dancing, music_venue]).
tag_group(wellness, [wellness, yoga, meditation, spa, sauna, nature_walk]).
tag_group(food, [food, dining, restaurant, cafe, food_truck, brewery, wine_tasting]).
tag_group(tours, [tours, food_tour, museum_tour, city_tour, walking_tour, boat_tour]).
tag_group(shopping, [shopping, boutiques, markets, vintage, mall]).
tag_group(entertainment, [entertainment, amusement_park, zoo, aquarium, theme_park, movies]).
tag_group(romantic, [romantic, couples, date_night, intimate, cozy, sunset_view]).

price_range_level(cheap, 1).
price_range_level(moderate, 2).
price_range_level(expensive, 3).
price_range_level(luxury, 4).
price_range_level(any, 5).

valid_general_query([city]).
valid_general_query([tags]).
valid_general_query([city, tags]).

get_recommendations(Cities, _, _, _, _, _, _) :-
    ( Cities == unknown ->
        throw(missing_input(city))
    ; \+ check_valid_cities(Cities) ->
        throw(unavailable_city)
    ).

get_recommendations(_, _, Tags, _, _, _,_) :-
    ( Tags == unknown ->
        throw(missing_input(tags))
    ; \+ check_valid_tags(Tags) ->
        throw(unavailable_tags)
    ).

get_recommendations(_, unknown, _, _, _, _,_) :-
    throw(missing_input(price)).

get_recommendations(_, _, _, unknown, _, _,_) :-
    throw(missing_input(time)).

get_recommendations(Cities, Price, Tags, Times, Reservation, AgeGroup, [ IDs | Info]) :-
    findall(ID, activity(ID), AllIDs),
    city_alias(Cities, Alias),
    price_range_level(Price, PriceLevel),
    include(matches_criteria(Alias, PriceLevel, Tags, Times, Reservation, AgeGroup), AllIDs, MatchingIDs),
    take_first_five(MatchingIDs, IDs),
    findall([Item, Name], 
        (member(Item, IDs),
        activity(Item, name, Name)), Info).

get_recommendations(Cities, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, [ IDs | Info]) :-
    findall(ID, activity(ID), AllIDs),
    city_alias(Cities, Alias),
    price_range_level(Price, PriceLevel),
    include(matches_criteria(Alias, PriceLevel, Tags, Times, Reservation, AgeGroup), AllIDs, MatchingIDs),
    exclude(is_in_list(ExcludedIDs), MatchingIDs, R),
    take_first_five(R, IDs),
    findall([Item, Name], 
        (member(Item, IDs),
        activity(Item, name, Name)), Info).

is_in_list(List, Item) :- member(Item, List).

take_first_five(List, FirstFive) :-
    length(List, Len),
    (   Len > 5
    ->  length(FirstFive, 5),
        append(FirstFive, _, List)
    ;   FirstFive = List
    ).

check_valid_tags([Tag|_]) :-
    tag_group(_, Tags),
    member(Tag, Tags), !.
check_valid_tags([_|Rest]) :-
    check_valid_tags(Rest).
check_valid_tags(Tag) :- tag_group(_,Tags), member(Tag,Tags).
check_valid_tags(any) :- !.

check_valid_cities([H|_]) :-
    city(H), !.
check_valid_cities([_|T]) :-
    check_valid_cities(T).
check_valid_cities(City) :- city(City).
    
city_alias(City, Alias) :-
    \+ is_list(City),
    (equiv_city(City, Alias) -> true ; Alias = City).

city_alias([], []).
city_alias([H|T], [HAlias|TAlias]) :-
    city_alias(H, HAlias),
    city_alias(T, TAlias).

matches_criteria(Cities, PriceLevel, Tags, Times, Reservation, AgeGroup, ID) :-
    (Cities == any ; (activity(ID, city, City), City == Cities) ; (activity(ID, city, City), member(City,Cities))),
    activity(ID, price_range, ActivityPrice),
    price_range_level(ActivityPrice, ActivityPriceLevel),
    (PriceLevel == any ; ActivityPriceLevel =< PriceLevel),
    (Tags == any ; (activity(ID, tags, ActivityTags), matches_tags(ActivityTags, Tags))),
    (Times == any ; (activity(ID, time_of_day, TimeList), matches_times(TimeList,Times))),
    (Reservation == unknown ; Reservation == any ; activity(ID, reservation, Reservation)),
    (AgeGroup == unknown ; AgeGroup == all ; activity(ID, age_group, AgeGroup)).

matches_times(TimeList, [H|_]):-
    member(H, TimeList), !.
matches_times(TimeList, [_|T]) :-
    matches_times(TimeList, T).
matches_times(TimeList, Time):-
    member(Time, TimeList).

matches_tags(ActivityTags, [H|_]) :-
    member(H,ActivityTags), !.
matches_tags(ActivityTags, [_|T]) :-
     matches_tags(ActivityTags, T).
matches_tags(ActivityTags, Tag) :-
    \+ tag_group(Tag, _),
    member(Tag, ActivityTags).
matches_tags(ActivityTags, Tag) :-
    tag_group(Tag, Tags),
    matches_tags(ActivityTags, Tags).

query(ActivityIDs, Options, Results) :- valid_general_query(Options), query_helper(ActivityIDs,Options,Results).
query(ActivityIDs, Options, _) :- \+ valid_general_query(Options), ActivityIDs == [], !, throw(query(error)).
query(ActivityIDs, Options, Results) :- \+ valid_general_query(Options), ActivityIDs \= [], !, query_helper(ActivityIDs, [name|Options], Results).

query_helper([''],[tags], Results) :- 
    findall(Tags, tag_group(_,Tags), R),
    flatten(R,Results).

query_helper([''],[city, tags], [[austin,houston,dfw]|[Flattened]]) :-
    findall(Tags, tag_group(_,Tags), R),
    flatten(R,Flattened).

query_helper([''],[city],[austin,houston,dfw]).

query_helper([], _, []).
query_helper([H|T], Options, [[H|DataList]|Results]) :-
    findall(Data, (member(Option, Options), activity(H, Option, Data)), DataList),
    query_helper(T, Options, Results).

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, city) :-
    \+ member(city, PrevSuggestions),
    City \= any,
    get_recommendations(any, Price, Tags, Times, Reservation, AgeGroup, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, price_range) :-
    \+ member(price_range, PrevSuggestions),
    Price \= any,
    get_recommendations(City, any, Tags, Times, Reservation, AgeGroup, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, interests) :-
    \+ member(interests, PrevSuggestions),
    Tags \= any,
    get_recommendations(City, Price, any, Times, Reservation, AgeGroup, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, time_of_day) :-
    \+ member(time_of_day, PrevSuggestions),
    Times \= any,
    get_recommendations(City, Price, Tags, any, Reservation, AgeGroup, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, reservation) :-
    \+ member(reservation, PrevSuggestions),
    Reservation \= any,
    get_recommendations(City, Price, Tags, Times, any, AgeGroup, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(City, Price, Tags, Times, Reservation, AgeGroup, ExcludedIDs, PrevSuggestions, age_group) :-
    \+ member(age_group, PrevSuggestions),
    AgeGroup \= all,
    get_recommendations(City, Price, Tags, Times, Reservation, any, Results),
    Results \= [],
    exclude(is_in_list(ExcludedIDs), Results, Filtered),
    Filtered \= [].

check_relax(_,_,_,_,_,_,_,PrevSuggestions,_) :-
    member(city, PrevSuggestions),
    member(price_range, PrevSuggestions),
    member(interests, PrevSuggestions),
    member(time_of_day, PrevSuggestions),
    member(reservation, PrevSuggestions),
    member(age_group, PrevSuggestions),
    throw(relax(error)).